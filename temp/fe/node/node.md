Node为服务端JavaScript提供了一个事件驱动的、异步的平台。它把JavaScript带到服务端中
的方式跟浏览器把JavaScript带到客户端的方式几乎一模一样。 了解浏览器的工作原理对我们了解
Node的工作原理会有很大帮助。它们都是事件驱动（用事件轮询）和非阻塞的I/O处理（用异步
I/O） 。

####Node在服务器端使用JavaScript还有其他好处

开发人员用一种语言就能编写整个Web应用， 这可以减少开发客户端和服务端时所需的语
言切换。这样代码可以在客户端和服务端中共享，比如在表单校验或游戏逻辑中使用同
样一段代码。

JSON是目前非常流行的数据交换格式，并且还是JavaScript原生的。

有些NoSQL数据库中用的就是JavaScript语言（比如CouchDB和MongoDB） ，所以跟它们
简直是天作之合 （比如MongoDB的管理和查询语言都是JavaScript； CouchDB的map/reduce
也是JavaScript） 。

JavaScript是一门编译目标语言，现在有很多可以编译成JavaScript的语言


Node用的虚拟机（V8）会紧跟ECMAScript标准。换句话说，在Node中如果想用新的
JavaScript语言特性，不用等到所有浏览器都支持。

<hr>
Node为服务端JavaScript提供了一个事件驱动的、异步的平台。它把JavaScript带到服务端中
的方式跟浏览器把JavaScript带到客户端的方式几乎一模一样。 了解浏览器的工作原理对我们了解
Node的工作原理会有很大帮助。它们都是事件驱动（用事件轮询）和非阻塞的I/O处理（用异步
I/O） 。

谢天谢地，实际情况不是这样的。当浏览器中有I/O操作时，该操作会在事件轮询的外面执
行（脚本执行的主顺序之外） ，然后当这个I/O操作完成时，它会发出一个“事件” ，
① 会有一个函
数（通常称作“回调” ）处理它，如图1-1所示。
这个I/O是异步的，并且不会“阻塞”脚本执行，事件轮询仍然可以响应页面上执行的其他
交互或请求。这样，浏览器可以对客户做出响应，并且可以处理页面上的很多交互动作。

我们来看NGINX和Apache的一个基准比较（见图1-2，源自http://mng.bz
/eaZT） 。或许你还不了解NGINX（http://nginx.com/） ，它跟Apache一样，是个HTTP服务器，但它
用的不是带有阻塞I/O的多线程方式，而是带有异步I/O的事件轮询（就像浏览器和Node一样） 。
因为这些设计上的选择，NGINX通常能处理更多的请求和客户端连接，它因此变成了响应能力
更强的解决方案


在Node中，I/O几乎总是在主事件轮询之外进行，使得服务器可以一直处于高效并且随时能
够做出响应的状态，就像NGINX一样。这样进程就更加不会受I/O限制，因为I/O延迟不会拖垮服
务器，或者像在阻塞方式下那样占用很多资源。因此一些在服务器上曾经是重量级的操作，在
Node服务器上仍然可以是轻量级的。
②

回顾一下，Node是：

?  构建在JavaScript之上的；

?  事件触发和异步的；

?  专为数据密集型实时程序设计的。
